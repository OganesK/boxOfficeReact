{"version":3,"sources":["components/NavigationBar/Navs.js","components/Title/Title.js","components/MainPageLayout/MainPageLayout.js","misc/config.js","misc/getDataFromServer.js","misc/getCookie.js","pages/Home/Home.js","pages/Starred/Starred.js","App.js","reportWebVitals.js","index.js"],"names":["LINKS","to","text","Navs","map","item","Title","title","subtitle","MainPageLayout","children","BASE_URL","queryString","a","fetch","then","r","json","response","GetDataFromServer","method","params","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","Home","useState","input","setInput","results","setResults","searchOption","setSearchOption","loading","setLoading","isShows","loadData","id","useEffect","console","log","onSearch","apiGet","result","onRadioChange","ev","target","value","type","onChange","onKeyDown","keyCode","placeholder","htmlFor","checked","onClick","length","show","className","image","src","medium","alt","width","height","genres","join","rating","average","href","officialSite","IconButton","JSON","stringify","answ","res","alert","starredClickHandler","person","birthday","deathday","country","gender","url","Starred","starredFilms","setStarredFilms","getStarredFilms","data","starred","film","filmId","window","location","reload","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b9c9003a.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst LINKS = [\r\n    {to: '/', text: 'Home'},\r\n    {to: '/starred', text: 'Starred'}\r\n]\r\n\r\nconst Navs = () => (\r\n        <div>\r\n            <ul>\r\n                {LINKS.map(item => <li key={item.to}><Link to={item.to}>{item.text}</Link></li>)}\r\n            </ul>\r\n        </div>\r\n    );\r\n\r\nexport default Navs;","import React from 'react';\r\n\r\nconst Title = ({title, subtitle}) => (\r\n        <div>\r\n           <h1>{title}</h1>\r\n           <p>{subtitle}</p>\r\n        </div>\r\n    );\r\n\r\nexport default Title;\r\n","import React from 'react';\r\nimport Navs from '../NavigationBar/Navs'; \r\nimport Title from '../Title/Title';\r\n// import './MainPageLayout.css'\r\n\r\nconst MainPageLayout = ({children}) => (\r\n        <div>\r\n            <Title title=\"Box Office\" subtitle=\"Are you looking for a movie or an actor?\"/>\r\n            <Navs />\r\n            {children}\r\n        </div>\r\n    );\r\n\r\nexport default MainPageLayout;\r\n","const BASE_URL = 'https://api.tvmaze.com';\r\n\r\nexport async function apiGet(queryString) {\r\n\r\n    const response = await fetch(`${BASE_URL}${queryString}`).then(r => r.json())\r\n    return response;\r\n}","export const GetDataFromServer = async (method,params) => fetch(`http://localhost:3001/api?${params}&method=${method}`)\r\n","export function getCookie(name) {\r\n  const matches = document.cookie.match(new RegExp(\r\n    // eslint-disable-next-line no-useless-escape, prefer-template\r\n    \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n  ));\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}","import React,{useEffect, useState} from 'react';\r\nimport {IconButton} from '@material-ui/core';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\nimport MainPageLayout from '../../components/MainPageLayout/MainPageLayout';\r\nimport { apiGet } from '../../misc/config';\r\nimport './Home.css';\r\nimport { GetDataFromServer } from '../../misc/getDataFromServer';\r\nimport { getCookie } from '../../misc/getCookie';\r\n\r\n\r\n\r\n\r\nconst Home = () => {\r\n    \r\n\r\n    const [input, setInput] = useState('');\r\n    const [results, setResults] = useState(null);\r\n    const [searchOption, setSearchOption] = useState('shows');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n\r\n    const isShows = searchOption === 'shows';\r\n\r\n\r\n    const loadData = async () => {\r\n        const id = await GetDataFromServer('blabla','id=null');\r\n        document.cookie = `id=${id}`;\r\n        setLoading(false);\r\n    }\r\n    useEffect(() => {\r\n        if(getCookie(\"id\") === undefined){\r\n            loadData()\r\n            // eslint-disable-next-line no-console\r\n            console.log('Trying to get id')\r\n        }else{\r\n            // eslint-disable-next-line no-console\r\n            console.log(`Куки есть ${document.cookie}`);\r\n            setLoading(false);\r\n        }\r\n    }, [])\r\n\r\n\r\n    const onInputChange = ev => {\r\n        setInput(ev.target.value);\r\n    }\r\n\r\n    const onSearch = () => {\r\n\r\n        apiGet(`/search/${searchOption}?q=${input}`).then(result => {\r\n            setResults(result);\r\n        });\r\n    }\r\n\r\n    const onKeyDown = ev => {\r\n        if (ev.keyCode === 13) {\r\n            onSearch(input);\r\n        }\r\n    }\r\n\r\n    const starredClickHandler = (item) => {\r\n        GetDataFromServer('newFilm',`id=${getCookie('id')}&data=${JSON.stringify(item)}`)\r\n        .then(answ => answ.json())\r\n        // eslint-disable-next-line no-alert\r\n        .then(res => alert(res));\r\n    }\r\n\r\n\r\n    const renderResults = () => {\r\n        if (results && results.length === 0) {\r\n            return <div>No results :(</div>\r\n        } if (results && results.length > 0) {\r\n            return results[0].show ? results.map(item => (\r\n                <div key={item.show.id} className='Show'>\r\n                        <div className='Picture'>\r\n                            {item.show.image ? <img src={item.show.image.medium} alt={item.show.name} width='200' height='200' className='showImg'/> : <strong>No image found :(</strong>}\r\n                        </div>\r\n                    <ul>\r\n                        <li>{item.show.name}</li>\r\n                        <li>Genres: {item.show.genres.length ? item.show.genres.join(' ') : <strong>No genres listed</strong>}</li>\r\n                        <li>Rating: {item.show.rating.average ? item.show.rating.average : <strong>No ratings specified</strong>}</li>\r\n                        <li>Link: <a href={item.show.officialSite}>{item.show.officialSite ? item.show.name : <strong>No link specified</strong>}</a></li>\r\n                        <li>\r\n                            <IconButton onClick={() => {starredClickHandler(item)}}>\r\n                                <StarBorderIcon />\r\n                            </IconButton>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            ))\r\n                : results.map(item => (\r\n                    <div key={item.person.id} className='Person'>\r\n                        <div className='Picture'>\r\n                            {item.person.image ? <img src={item.person.image.medium} alt={item.person.name} className='personImg'/> : <strong>No image found :(</strong>}\r\n                        </div>\r\n                        <ul>\r\n                            <li>{item.person.name}</li>\r\n                            <li>Birthday:{item.person.birthday} | Deathday: {item.person.deathday}</li>\r\n                            <li>Country: {item.person.country ? item.person.country.name : null}</li>\r\n                            <li>Gender: {item.person.gender}</li>\r\n                            <li>Link: <a href={item.person.url}>{item.person.name}</a></li>\r\n                        </ul>\r\n                    </div>));\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    const onRadioChange = (ev) => {\r\n        setSearchOption(ev.target.value)\r\n    }\r\n\r\n    if(loading) return <div>Loading...</div>\r\n\r\n    return(\r\n        <MainPageLayout>\r\n            <input type='text' \r\n            onChange={onInputChange} \r\n            onKeyDown={onKeyDown} \r\n            value={input}\r\n            placeholder='Search for something'/>\r\n            \r\n            <div>\r\n                <label htmlFor='shows-search'>\r\n                    Shows\r\n                    <input id='shows-search' type='radio'\r\n                     value='shows'\r\n                     checked={isShows}\r\n                     onChange={onRadioChange}/>\r\n                </label>\r\n\r\n                <label htmlFor='actors-search'>\r\n                    Actors\r\n                    <input id='actors-search' type='radio' \r\n                    value='people'\r\n                    checked={!isShows}\r\n                    onChange={onRadioChange}/>\r\n                </label>\r\n            </div>\r\n\r\n            <button type=\"button\" onClick={onSearch}>Search</button>\r\n            {renderResults()}\r\n        </MainPageLayout>\r\n    )\r\n}\r\nexport default Home;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {IconButton} from '@material-ui/core';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport MainPageLayout from '../../components/MainPageLayout/MainPageLayout';\r\nimport { GetDataFromServer } from '../../misc/getDataFromServer';\r\nimport { getCookie } from '../../misc/getCookie';\r\n\r\n\r\nconst deleteClickHandler = (filmId) => {\r\n    GetDataFromServer('deleteFilm',`id=${getCookie('id')}&filmId=${JSON.stringify(filmId)}`)\r\n    .then(answ => answ.json())\r\n    // eslint-disable-next-line no-alert\r\n    .then(res => alert(res));\r\n    window.location.reload();\r\n}\r\n\r\nconst Starred = () => {\r\n    \r\n    const [loading, setLoading] = useState(true);\r\n    const [starredFilms, setStarredFilms] = useState();\r\n\r\n    const getStarredFilms = async () => {\r\n        const data = await GetDataFromServer('listFilms',`id=${getCookie('id')}`)\r\n        setStarredFilms(await data.json());\r\n        setLoading(false);\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getStarredFilms();\r\n    }, [])\r\n\r\n    if(loading){\r\n        return <div>Loading...</div>\r\n    }\r\n    return (\r\n            <MainPageLayout>\r\n                {starredFilms.starred.map(item => (\r\n                    <div key={item.film.film.show.id} className='Show'>\r\n                    <div className='Picture'>\r\n                        {item.film.film.show.image ? <img src={item.film.film.show.image.medium} alt={item.film.film.show.name} width='200' height='200' className='showImg'/> : <strong>No image found :(</strong>}\r\n                    </div>\r\n                <ul>\r\n                    <li>{item.film.film.show.name}</li>\r\n                    <li>Genres: {item.film.film.show.genres.length ? item.film.film.show.genres.join(' ') : <strong>No genres listed</strong>}</li>\r\n                    <li>Rating: {item.film.film.show.rating.average ? item.film.film.show.rating.average : <strong>No ratings specified</strong>}</li>\r\n                    <li>Link: <a href={item.film.film.show.officialSite}>{item.film.film.show.officialSite ? item.film.film.show.name : <strong>No link specified</strong>}</a></li>\r\n                    <li>\r\n                        <IconButton onClick={() => {deleteClickHandler(item.film.film.show.id)}}>\r\n                            <DeleteOutlineIcon/>\r\n                        </IconButton>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n                    ))}\r\n            </MainPageLayout>\r\n    )\r\n\r\n}\r\n\r\nexport default Starred\r\n","import React from \"react\";\r\nimport {Switch, Route} from 'react-router-dom';\r\nimport Home from \"./pages/Home/Home\";\r\nimport Starred from \"./pages/Starred/Starred\";\r\n// import './pages/Home/Home.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path='/'>\r\n        <Home />\r\n      </Route>\r\n      <Route exact path='/starred'>\r\n        <Starred />\r\n      </Route>\r\n      <Route>\r\n        <div>\r\n            This is 404 page\r\n        </div>\r\n        </Route>\r\n      </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(<BrowserRouter>\r\n                <App />\r\n                </BrowserRouter>\r\n                ,document.getElementById('root'));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}